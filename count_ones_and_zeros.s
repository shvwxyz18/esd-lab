	AREA onezero, CODE, READONLY
	EXPORT __main

__main
	LDR R0, =SRC
	MOV R2, #2
	EOR R5, R5, R5
	EOR R6, R6, R6
	
UP 
	LDR R1, [R0]
	MOV R3, #32

TOP
	TST R1, #1
	BEQ INC_ZERO
	ADD R6, #1
	B DOWN	
	
INC_ZERO
	ADD R5, #1

DOWN
	LSR R1, #1
	SUBS R3, #1
	CMP R3, #0
	BNE TOP
	
	ADD R0, #4
	SUBS R2, #1
	CMP R2, #0
	BNE UP
	
	LDR R8, =ONE
	STR R6, [R8]
	LDR R9, =ZERO
	STR R5, [R9]

STOP B STOP
SRC DCD 0XAA55AA55, 0X11111111
	AREA RES, DATA, READWRITE
ONE DCD 0X00
ZERO DCD 0X00

 ;EXPECTED RESULT R5 -> 0X00000028 R6 -> 0X00000018
